#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>

int sudoku_board[9][9] = {
    {5, 0, 0, 0, 0, 9, 0, 0, 0},
    {0, 0, 3, 0, 0, 0, 0, 1, 0},
    {0, 0, 0, 7, 0, 0, 0, 0, 0},
    {0, 0, 0, 0, 5, 0, 0, 0, 3},
    {0, 0, 0, 0, 0, 0, 0, 0, 0},
    {0, 0, 0, 0, 0, 1, 0, 0, 0},
    {0, 0, 0, 0, 0, 3, 0, 0, 0},
    {0, 2, 0, 0, 0, 0, 0, 0, 0},
    {0, 0, 0, 0, 0, 0, 0, 0, 5}
};

//int sudoku_board[9][9] = {0}; // all zeros


void display() {
    const int cell_height = 5; // how many terminal lines per cell
    const int cell_width  = 10; // how many chars per cell horizontally

    for (int r = 0; r < 9; r++) {
        for (int line = 0; line < cell_height; line++) { // repeat each row
            for (int c = 0; c < 9; c++) {
                int block_row = r / 3;
                int block_col = c / 3;

                // choose color for 3x3 block
                if ((block_row + block_col) % 2 == 0)
                    printf("\x1b[47;30m"); // white bg, black text
                else
                    printf("\x1b[40;37m"); // black bg, white text

                for (int w = 0; w < cell_width; w++) {
                    if (line == cell_height / 2 && w == cell_width / 2) {
                        // middle of the cell: print number or blank
                        if (sudoku_board[r][c] != 0)
                            printf("%d",sudoku_board[r][c]);
                        else
                            printf(" ");
                    } else {
                        printf(" "); // fill rest with spaces
                    }
                }

                printf("\x1b[0m"); // reset formatting
            }
            printf("\n");
        }
    }
}

bool valid(int row , int col , int val){//b4
      
      for(int c = 0 ; c < 9 ; c++){//b5
          
          if(sudoku_board[row][c] == val)
              return false;
              
      }//b5 
      
      for(int r = 0 ; r < 9 ; r++){//b5
          
          if(sudoku_board[r][col] == val)
              return false;
              
      }//b5 
      
      int blockrow = row - row%3;
      int blockcol = col - col%3;
      
      for(int br = 0 ; br < 3 ; br++){//b5
          
          for(int bc = 0 ; bc < 3 ; bc++){//b5
          
            if(sudoku_board[blockrow+br][blockcol+bc] == val)
                return false;
              
          }//b5
              
      }//b5
    return true;
}
void sudoku(int row , int col ){//b66 

      if(row == 9 && col == 0){//b7
            display();
            exit(0);
      }//b7
      
      else{//b67
          if(!sudoku_board[row][col]){//b6          
            for(int i = 1 ; i <= 9 ; i++){//b8           
                  if(valid(row,col,i)){//b11
                      sudoku_board[row][col] = i;
                      sudoku( col==8 ? row + 1:row , col==8 ? 0:col + 1 );
                      sudoku_board[row][col] = 0;
                  }//b11
                  
            }//b8
            
      }//b6        
      
          else{//b9
                      sudoku( col==8 ? row + 1 : row , col==8 ? 0 : col+1 );
           }//b9
           
    }//b67
    
}//b66



int main(){///b1
    
    int dxd = 9;
    /*intsudoku_board[dxd][dxd];
    
    //printf("Coordinates will be shown to you ENTER number in approp places\n");
    for(int trav = 0 ; trav < dxd; trav++){//b2
            for(int iter = 0 ; iter < dxd; iter++){//b3
                    //printf("\x1b[1;32mENTER coord( %d , %d ) - \x1b[0m",trav,iter);
                    //scanf("%d",&board[trav][iter]);
                   sudoku_board[trav][iter] = sudoku_board[trav][iter];
            }//b3
    }//b2
  */
    
    //displaysudoku_board);
    sudoku(0,0);
    return 0;
}//b1























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































